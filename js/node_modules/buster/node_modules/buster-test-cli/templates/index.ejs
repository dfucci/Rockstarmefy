<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Capture test slave</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/buster.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/buster-server.css">
  </head>
  <body>
    <div id="masthead">
      <p><a href="/">Buster.<span>JS</span></a> Test automator</p>
    </div>
    <div class="content">
      <h1>Capture browser as test slave</h1>
      <p>
        Hit the button below, then leave the browser running. Buster can then use
        it to automate test runs for you.
      </p>
      <p class="button"><a href="/capture">Capture browser</a></p>
      <% if (clients.length > 0) { %>
        <h2>Connected clients</h2>
        <ol class="browsers">
          <% for (var i = 0, l = clients.length; i < l; ++i) { %>
            <% var agent = clients[i] %>
            <li class="<%= /internet explorer/i.test(agent.browser) ? 'ie' : agent.browser.toLowerCase() %> <%= agent.platform.toLowerCase() %>">
              <h3><%= agent.browser %> <%= agent.version %> <%= agent.platform %></h3>
              <p><%= agent.userAgent %></p>
            </li>
          <% } %>
        </ol>
      <% } else { %>
        <h2>No connected clients</h2>
      <% } %>
    </div>
  </body>
</html>
